{% for parser in fluentb_log_parsers %}
[PARSER]
    Name {{ parser.name|default(fluentb_log_parser) }}
    Format {{ parser.format|default(fluentb_log_parser_format) }}
{% if parser.format|default(fluentb_log_parser_format) == 'regex' %}
    Regex {{ parser.regex|default(fluentb_log_parser_regex) }}
{% endif %}
    Time_Key {{ parser.time_key|default(fluentb_log_parser_time_key) }}
    Time_Format {{ parser.time_format|default(fluentb_log_parser_time_format) }}
{% if parser.decoders is defined %}
{% for decoder in parser.decoders %}
    Decode_Field {{ decoder }}
{% endfor %}
{% endif %}
    Time_Keep {% if parser.time_keep|default(fluentb_log_parser_time_keep) %}On{% else %}Off{% endif %}
{% if parser.types is defined %}
    Types {% for type in parser.types %}{{ type }}{% endfor %}
{% endif %}
{% endfor %}
